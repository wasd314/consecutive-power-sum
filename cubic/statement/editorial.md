# 解説

まず，解の候補を絞りましょう．$(L, R)$ が解であるとき，
$$
R^3 \le \sum_{k = L}^R k^3 = S(L, R) = N
$$
より $L \le R \le N^{1/3}$ です．よって $M \coloneqq \lfloor N^{1/3} \rfloor$ とおき，数列 $A = (A_1, A_2, \dots, A_M)$ を $A_i \coloneqq i^3$ で定めると，問題は「数列 $A$ の区間和が $N$ になる区間を列挙せよ」と言い換えることができます．

数列の区間和に対しては，数列の累積和を考えることが有効です．数列 $B$ を
- $B_0 \coloneqq 0$
- $B_{i} \coloneqq B_{i - 1} + A_i \quad (i = 1, 2, \dots, M)$

で定めると，問題文の第2条件は
$$
S(L, R) = B_R - B_{L-1} = N
$$
と言い換えられます．

$L$ を $M$ 以下で全探索することを考えます．数列 $B$ が狭義単調増加することから，各 $L$ に対して $B_R = B_{L-1} + N$ なる $R$ は高々1つであり，そのような $R$ は $B_i$ から $i$ を逆引きする連想配列を用意しておくことで $\Theta(1)$ 時間もしくは $\Theta(\log M)$ 時間などで求められます．また尺取り法を用いてもよいでしょう．

従って全体 $\Theta(M) = \Theta(N^{1/3})$ 時間もしくは $\Theta(M \log M) = \Theta(N^{1/3} \log N)$ 時間で解くことができます．これは本問の制約 $N \le 10^{18}$ の下で十分高速です．

